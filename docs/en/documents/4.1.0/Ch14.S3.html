---
layout: default
permalink: /en/documents/4.1.0/Ch14.S3.html
translated: true
lang: en
head: |
 <!--Generated on Sat Nov 16 16:42:06 2024 by LaTeXML (version 0.8.5) http://dlmf.nist.gov/LaTeXML/.-->
 <!--Document created on Nov, 2024.-->
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <link rel="stylesheet" href="LaTeXML.css" type="text/css">
 <link rel="stylesheet" href="ltx-book.css" type="text/css">
 <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=MML_CHTML" type="text/javascript"></script>
 <link rel="up" href="Ch14.html" title="Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="up up" href="Pt2.html" title="Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="up up up" href="./" title="SML# Document Version 4.1.0">
 <link rel="start" href="./" title="SML# Document Version 4.1.0">
 <link rel="prev" href="Ch14.S2.html" title="14.2 Separate compilation example ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="next" href="Ch14.S4.html" title="14.4 Opaque types ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="section" href="Ch14.S1.html" title="14.1 Separate compilation overview ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="section" href="Ch14.S2.html" title="14.2 Separate compilation example ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="section" href="Ch14.S4.html" title="14.4 Opaque types ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="section" href="Ch14.S5.html" title="14.5 Treatment of signatures ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="section" href="Ch14.S6.html" title="14.6 Functor support ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="section" href="Ch14.S7.html" title="14.7 Replications ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="section" href="Ch14.S8.html" title="14.8 Top-level execution ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="chapter" href="Ch5.html" title="Chapter 5 Installing SML# ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="chapter" href="Ch6.html" title="Chapter 6 Setting up SML# programming environment ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="chapter" href="Ch7.html" title="Chapter 7 Introduction to ML programming ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="chapter" href="Ch8.html" title="Chapter 8 SML# feature: record polymorphism ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="chapter" href="Ch9.html" title="Chapter 9 SML# feature: other type system extensions ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="chapter" href="Ch10.html" title="Chapter 10 SML# feature: direct interface to C ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="chapter" href="Ch11.html" title="Chapter 11 SML# feature: Multithread programming ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="chapter" href="Ch12.html" title="Chapter 12 SML# feature: seamless SQL integration ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="chapter" href="Ch13.html" title="Chapter 13 SML# feature: dynamic types and typed manipulation of JSON ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="chapter" href="Ch14.html" title="Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="part" href="Pt1.html" title="Part I Overview ‣ SML# Document Version 4.1.0">
 <link rel="part" href="Pt2.html" title="Part II Tutorials ‣ SML# Document Version 4.1.0">
 <link rel="part" href="Pt3.html" title="Part III Reference manual ‣ SML# Document Version 4.1.0">
 <link rel="part" href="Pt4.html" title="Part IV Programming Tools ‣ SML# Document Version 4.1.0">
 <link rel="part" href="Pt5.html" title="Part V SML# Internals and Data Structures ‣ SML# Document Version 4.1.0">
 <link rel="part" href="Pt6.html" title="Part VI Bibliography and other documents ‣ SML# Document Version 4.1.0">
title: "14.3 Structure of interface files‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0"
---
{% raw %}
<div class="ltx_page_main">
<header class="ltx_page_header"><div class="ltx_document_title">SML# Document Version 4.1.0</div>
<div>
<a href="Ch14.html" title="Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0" class="ltx_ref" rel="up"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14 </span>
SML# feature: separate compilation</span></a><a href="Ch14.S2.html" title="14.2 Separate compilation example ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14.2 </span>Separate compilation example</span></a><a href="Ch14.S4.html" title="14.4 Opaque types ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14.4 </span>Opaque types</span></a>
</div></header>
<div class="ltx_page_content">
<section class="ltx_section ltx_authors_1line">
<h1 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">14.3 </span>Structure of interface files</h1>

<div id="p1" class="ltx_para">
<p class="ltx_p">An interface file describes the interface of a source file to be
compiled separately.
Its contents consists of
<span class="ltx_text ltx_font_bold">Require</span> declarations and
<span class="ltx_text ltx_font_bold">Provide</span> declarations.
Require declarations specifies the list of interface files
used in this compilation unit as a sequence of declarations of the
following form.</p>
<blockquote class="ltx_quote">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">_require <math id="p1.m1" class="ltx_Math" alttext="smiFilePath" display="inline"><mrow><mi>s</mi><mi>m</mi><mi>i</mi><mi>F</mi><mi>i</mi><mi>l</mi><mi>e</mi><mi>P</mi><mi>a</mi><mi>t</mi><mi>h</mi></mrow></math></span></p>
</blockquote>
<p class="ltx_p"><math id="p1.m2" class="ltx_Math" alttext="smiFilePath" display="inline"><mrow><mi>s</mi><mi>m</mi><mi>i</mi><mi>F</mi><mi>i</mi><mi>l</mi><mi>e</mi><mi>P</mi><mi>a</mi><mi>t</mi><mi>h</mi></mrow></math> is an interface file (smi file) of other compile unit.
Frequently used interface files can be grouped together and given a
name.
SML# maintain a few of them.
A useful example is <span class="ltx_text ltx_font_typewriter">basis.smi</span> which contain
all the (mandatory) names (types, functions etc) defined in Standard ML
Basis Library.
In order to make the basis library available, write the
following at the beginning of its interface file.</p>
<blockquote class="ltx_quote">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">_require "basis.smi";</span></p>
</blockquote>
</div>
<div id="p2" class="ltx_para">
<p class="ltx_p">Provide declarations describes the resources implemented in this
compile unit.
Resources corresponds to those definable as SML#
declarations, including the following.</p>
<ul id="I1" class="ltx_itemize">
<li id="I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I1.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">datatype</span> definitions
</p>
</div>
</li>
<li id="I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I1.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">type</span> definitions</p>
</div>
</li>
<li id="I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I1.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">exception</span> declarations</p>
</div>
</li>
<li id="I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I1.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">infix</span> declarations</p>
</div>
</li>
<li id="I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I1.i5.p1" class="ltx_para">
<p class="ltx_p">variable definitions</p>
</div>
</li>
<li id="I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I1.i6.p1" class="ltx_para">
<p class="ltx_p">module definitions</p>
</div>
</li>
<li id="I1.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I1.i7.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">functor</span> definitions</p>
</div>
</li>
</ul>
<p class="ltx_p">Figure <a href="#Ch14.F2" title="Figure 14.2 ‣ 14.3 Structure of interface files ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14.2</span></a>
is an example interface file <span class="ltx_text ltx_font_typewriter">queue.smi</span>
and its implementation <span class="ltx_text ltx_font_typewriter">queue.sml</span>.</p>
</div>
<figure id="Ch14.F2" class="ltx_figure">
<table class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_inline-para ltx_minipage ltx_align_middle" style="width:407.2pt;">
<span id="Ch14.F2.p1" class="ltx_para">
<span class="ltx_p">queue.smi file：</span>
<span class="ltx_quote">
<span class="ltx_p"><span class="ltx_text ltx_font_typewriter">_require "basis.smi"
<br class="ltx_break">
structure Queue =
<br class="ltx_break">
struct
<br class="ltx_break">
  datatype ’a queue = Q of ’a list * ’a list
<br class="ltx_break">
  exception Dequeue
<br class="ltx_break">
  val empty : ’a queue
<br class="ltx_break">
  val isEmpty : ’a queue -&gt; bool
<br class="ltx_break">
  val enqueue : ’a queue * ’a -&gt; ’a queue
<br class="ltx_break">
  val dequeue : ’a queue -&gt; ’a queue * ’a
<br class="ltx_break">
end</span></span>
</span>
<span class="ltx_p">queue.sml file:</span>
<span class="ltx_quote">
<span class="ltx_p"><span class="ltx_text ltx_font_typewriter">structure Queue =
<br class="ltx_break">
struct
<br class="ltx_break">
  datatype ’a queue = Q of ’a list * ’a list
<br class="ltx_break">
  exception Dequeue
<br class="ltx_break">
  val empty = Q ([],[])
<br class="ltx_break">
  fun isEmpty (Q ([],[])) = true
<br class="ltx_break">
    | isEmpty _ = false
<br class="ltx_break">
  fun enqueue (Q(Old,New),x) = Q (Old,x::New)}
<br class="ltx_break">
  fun dequeue (Q (hd::tl,New)) = (Q (tl,New), hd)
<br class="ltx_break">
    | dequeue (Q ([],_) = raise Dequeue
<br class="ltx_break">
    | dequeue (Q(Old,New) = dequeue (Q(rev New,[]))
<br class="ltx_break">
end</span></span>
</span>
</span></span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 14.2: </span>Example of interface file</figcaption>
</figure>
<div id="p3" class="ltx_para">
<p class="ltx_p">As seen in this example, Provide declarations in interface file
resembles Standard ML signatures.
A big difference is that in provide declarations in an interface
file, <span class="ltx_text ltx_font_typewriter">datatype</span> and <span class="ltx_text ltx_font_typewriter">exception</span> are not specifications but they
represent unique entities.
<span class="ltx_text ltx_font_typewriter">datatype ’a queue</span> and <span class="ltx_text ltx_font_typewriter">exception Dequeue</span> declared in
<span class="ltx_text ltx_font_typewriter">queue.smi</span> are treated as the generative type and exception in its
implementation.
As a result, they corresponds to the same entity even if <span class="ltx_text ltx_font_typewriter">queue.smi</span> is used in multiple interface files through <span class="ltx_text ltx_font_typewriter">_require</span>
declarations.</p>
</div>
</section>
</div>
<footer class="ltx_page_footer">
<div>
<a href="Ch14.S2.html" title="14.2 Separate compilation example ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14.2 </span>Separate compilation example</span></a><a href="Ch14.S4.html" title="14.4 Opaque types ‣ Chapter 14 SML# feature: separate compilation ‣ Part II Tutorials ‣ SML# Document Version 4.1.0" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14.4 </span>Opaque types</span></a>
</div>
<div class="ltx_page_logo">Generated  on Sat Nov 16 16:42:06 2024 by <a href="http://dlmf.nist.gov/LaTeXML/">LaTeXML <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="[LOGO]"></a>
</div></footer>
</div>
{% endraw %}
